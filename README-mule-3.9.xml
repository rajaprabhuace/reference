<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:dw="http://www.mulesoft.org/schema/mule/ee/dw" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:spring="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/dw http://www.mulesoft.org/schema/mule/ee/dw/current/dw.xsd">

	<flow name="transform-messages-code-snippet">

		<dw:transform-message doc:name="Transform Message">
			<dw:input-payload doc:sample="samples\sample.xml" mimeType="application/xml" />
			<dw:input-variable variableName="sampleFlowVar" doc:sample="samples\sample-flow-var.xml"
				mimeType="application/xml" />
			<dw:input-session-variable variableName="sampleSessionVar"
				doc:sample="samples\sample-session-var.xml" />
			<dw:set-payload resource="classpath:dwl/sample.dwl" />
			<dw:set-variable variableName="sampleFlowVar2" resource="classpath:dwl/sample-flow-var.dwl" />
			<dw:set-session-variable variableName="sampleSessionVar2"
				resource="classpath:dwl/sample-session-var.dwl" />
			<dw:set-property propertyName="Sample-Property-Name" resource="classpath:dwl/sample-property-name.dwl" />
		</dw:transform-message>

	</flow>
	
<!-- 

	filter(Array<T>, (item: T, index: Number) -> Boolean): Array<T>
	payload filter ((value, index) -> (value.id == "A1"))
	
	map(Array<T>, (item: T, index: Number) -> R): Array<R>
	payload map (value, index) -> {(index) : value}
	
	mapObject({ (K)?: V }, (value: V, key: K, index: Number) -> Object): Object
	payload mapObject (value, key, index) -> {(index) : {(value):key}}

 -->

</mule>
